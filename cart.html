<!doctype html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
      <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
      <link rel="stylesheet" href="./css/cartStyle.css">
      <title>GreatMealz</title>
   </head>
   <body>
      <!-- NAVBAR -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
         <div class="container-fluid">
            <a class="navbar-brand" href="#">
            <img src="./img/logo.png" alt="logo" style="width:100px">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
               <ul class="navbar-nav">
                  <li class="nav-item">
                     <a class="nav-link" href="home.html" >Exit</a>
                  </li>
               </ul>
            </div>
         </div>
      </nav>
      <!-- END NAVBAR -->
      <!-- CART -->
      <div class="container mt-5 p-3 rounded cart">
         <div class="row no-gutters">
            <div class="col-md-8">
               <div class="product-details mr-2">
                  <hr>
                  <h6 class="mb-0">Shopping cart</h6>
                  <div id="divCartList">

                  </div>
               </div>
            </div>
            <div class="col-md-4">
               <div class="payment-info">
                  <div class="d-flex justify-content-between align-items-center"><span>Card details</span></div>
                  <span class="type d-block mt-3 mb-1">Card type</span>
                  <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30" src="https://img.icons8.com/color/48/000000/mastercard.png" /></span> </label>
                  <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30" src="https://img.icons8.com/officel/48/000000/visa.png" /></span> </label>
                  <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30" src="https://img.icons8.com/cotton/48/000000/money--v4.png"/></span> </label>
                  <label class="radio"> <input type="radio" name="card" value="payment"> <span><img width="30" src="https://img.icons8.com/officel/48/000000/paypal.png" /></span> </label>
                  <div><label class="credit-card-label">Name on card</label><input type="text" class="form-control credit-inputs" placeholder="Name"></div>
                  <div><label class="credit-card-label">Card number</label><input type="text" class="form-control credit-inputs" placeholder="0000 0000 0000 0000"></div>
                  <div class="row">
                     <div class="col-md-6"><label class="credit-card-label">Date</label><input type="text" class="form-control credit-inputs" placeholder="12/24"></div>
                     <div class="col-md-6"><label class="credit-card-label">CVV</label><input type="text" class="form-control credit-inputs" placeholder="342"></div>
                  </div>
                  <hr class="line">
                  <div class="d-flex justify-content-between information"><span>Subtotal</span><span id="spnSubTotal"></span></div>
                  <div class="d-flex justify-content-between information"><span>Delivery</span><span>$50</span></div>
                  <div class="d-flex justify-content-between information"><span>Total</span><span id="spnTotal"></span></div>
                  <button class="btn btn-warning btn-block d-flex justify-content-between mt-3" type="button"><span>Checkout<i class="fa fa-long-arrow-right ml-1"></i></span></button>
               </div>
            </div>
         </div>
      </div>
      <!-- CART -->
      <!-- SCRIPTS -->
      <!-- Bootstrap Bundle with Popper  -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
      <!-- AOS  -->
      <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
      <script>
         AOS.init();
      </script>
      <script>
        
        var divCartList = document.getElementById("divCartList");
        var loadCartItems = () => {
          var subTotal = 0;
          const cartItems = JSON.parse(localStorage.getItem('cart'));
          cartItems.forEach(item => {
            console.log(item)
            var i = '<div class="d-flex justify-content-between align-items-center mt-3 p-2 items rounded">'
                + '<div class="d-flex flex-row">'
                + '<div class="ml-2"><span class="font-weight-bold d-block">'
                + item.name
                + '</span><span class="spec">'
                + item.description
                + '</span></div>'
                + '</div>'
                + '<div class="d-flex flex-row align-items-center"><span class="d-block ml-5 font-weight-bold">$'+
                + item.cost
                +'</span><i class="fa fa-trash-o ml-3 text-black-50"></i></div></div>';
              divCartList.innerHTML += i;
              subTotal += Number(item.cost)
              
          });
          console.log(subTotal);
          spnSubTotal.innerHTML = `$ ${subTotal}`;
          spnTotal.innerHTML = `$ ${subTotal + 50}`;
        }
        loadCartItems();
        
      </script>
   </body>
</html>